# report2

## Powerset

### 解題說明

如果集合有 \(n\) 個元素，則冪集的元素個數為：
[ |P(S)| = 2^n ]

**例子：**  
集合 \(\{a, b, c\}\) 有 3 個元素，其冪集有 \(2^3 = 8\) 個子集合：
∅, {a}, {b}, {c}, {a,b}, {a,c}, {b,c}, {a,b,c}
		 
#### 問題描述

給定一個長度為 n 的集合（由字元組成），要求列出集合的 所有子集（冪集），並依照子集大小從 0 到 n 排列。
每個子集需以括號表示，例如 (a)、(ab)，空集合表示為 ()。

#### 解題策略

1. **二進位法生成子集**  
   - 將每個子集對應到 0 到 2^n-1 的二進位數，每個位元代表集合中對應元素是否包含在子集中。  

2. **計算子集大小**  
   - 使用 `countBits(i)` 計算二進位數 i 中 1 的個數，對應子集大小。  
   - 外層迴圈按子集大小從 0 到 n 排序輸出。  

3. **輸出子集內容**  
   - 對每個符合大小的二進位數 i，檢查每個位元是否為 1，如果是，輸出對應的集合元素。  
   - 最後用括號包起來，換行輸出每個子集。

### 程式實作

以下為主要程式碼：

```cpp
#include <iostream>
using namespace std;

int countBits(int x) {
    int cnt = 0;
    while (x) {
        cnt += (x & 1);
        x >>= 1;
    }
    return cnt;
}
int main() {
    int n;
    char a[100];
    cin >> n;

    for (int i = 0; i < n; i++) {
        cin >> a[i];
    }
    int powerSetSize = 1 << n;
    for (int subsetSize = 0; subsetSize <= n; subsetSize++) {
        for (int i = 0; i < powerSetSize; i++) {
            if (countBits(i) == subsetSize) {
                cout << "(";
                for (int j = 0; j < n; j++) {
                    if (i & (1 << j)) {
                        cout << a[j];
                    }
                }
                cout << ")" << endl;
            }
        }
    }
    return 0;
}
```

### 效能分析

1.時間複雜度：
程式使用二進位法生成所有子集，總共有 2^n 個子集。  
對每個子集，內層迴圈檢查 n 個元素是否存在於子集中。  
因此時間複雜度為：O(n * 2^n)

2.空間複雜度：
程式使用陣列 `a[100]` 儲存輸入集合，並使用少量整數變數計算子集。  
陣列大小隨 n 而變動，額外不需額外空間儲存子集（直接輸出）。  
因此空間複雜度為：O(n)

### 測試與驗證

#### 測試案例

| 測試案例 | 輸入 n | 輸入集合 a | 預期輸出 |
|-----------|--------|-------------|-----------|
| 測試一   | 3      | a b c       | () (a) (b) (c) (ab) (ac) (bc) (abc) |
| 測試二   | 2      | x y         | () (x) (y) (xy) |
| 測試三   | 1      | z           | () (z) |
| 測試四   | 0      | -           | () |

---

#### 編譯與執行指令

```shell
$ g++ powerset.cpp -std=c++14 -o powerset
$ powerset.exe
輸入 n 值: 3
輸入集合: a b c
(結果):
()
(a)
(b)
(c)
(ab)
(ac)
(bc)
(abc)
```

### 申論及開發報告

#### 冪集的概念
對於一個集合 \(S\)，其冪集 \(P(S)\) 包含所有子集合，包括：
1. 空集合 \(\emptyset\)  
2. 單元素子集合  
3. 多元素子集合  
4. 原集合本身

冪集的大小為 \(2^n\)，其中 \(n\) 是集合中元素的數量。

#### 冪集的生成邏輯
生成冪集的基本思路是**考慮每個元素是否包含在子集合中**：
1. 對於集合中的每個元素，都有「選擇包含」或「不包含」兩種情況。  
2. 將所有元素的選擇組合起來，即得到完整的冪集。  
這種邏輯可以用不同方式實現，如迭代、位運算、或遞迴，但核心思想是**枚舉每個元素的選擇狀態**。

#### 程式設計優點
1. **邏輯清晰**：每個子集合的生成過程與冪集的定義直接對應。  
2. **概念通用**：無論用迭代、遞迴或位運算，生成方法都基於「每個元素是否被選中」。  
3. **可擴展性**：程式可處理任意大小的集合，並保證生成的子集合完整。

#### 注意事項
冪集的大小隨集合元素數量呈指數增長，對集合元素較多時，需要注意記憶體和運算時間的消耗。對大集合，可考慮只生成需要的子集合，或使用生成器等方式節省資源。
